#summary [Install][English] Firmware Hack Installation
#labels Featured

= Introduction =

This document describes the Installation procedure; if you need information on using the hack, please read the [http://code.google.com/p/400plus/wiki/UserGuide User Guide].

= Details =

== Before you begin ==

_In order to install `400plus` you are definitively going to *need* a CF card reader; it is simply *not possible* to install `400plus` through a USB cord attached to your camera._

== Preparing the camera ==

The following steps prepare your camera to execute `400plus` each time it start up; this procedure must be done only once:

  #. Use a fully charged battery. You need CF card reader and Windows, Linux or Mac. On a mac you can use the native method or, use Windows under Bootcamp/VMware Fusion or use the Linux method.
  #. Update to [http://web.canon.jp/imaging/eosdigital3/e4kr3_firmware-e.html latest firmware (1.1.1)] by copying it into the root of CF with your card reader, then put it in the camera and run "update firmware" in the setup menu.
  #. Empty your CF, download [http://code.google.com/p/400plus/downloads/list testfir.fir] and copy it into the root of your CF with the card reader.
  #. Insert the CF into the camera and run the firmware update using 'testfir.fir', the screen will go blank then. _*<font color="red">Wait at least 2 minutes</font>*_, turn it off, and finally take battery out and back in.

== Preparing each card ==

The following steps prepare a card to contain `400plus``  and be recognized by the camera; this procedure must be done for each card:

  #. This step depends on your OS and CF Card, but first insert CF into the camera and format it.<br>_,,[NOTE: You can format it on the PC too],,_
    * Windows: use [http://pel.hu/down/EOScard.exe EOScard] by [http://chdk.setepontos.com/index.php?topic=4214.msg58253#msg58253 pelican], you need to check EOS_DEVELOP and BOOTDISK like shown [http://chdk.wikia.com/wiki/EOScard here].<br>_,,[NOTE: Some Win7 users reported that no method was working for them; install VirtualBox with Linux LiveCD running on it, and use the Linux method, after attaching the card reader to the VM],,_
    * Mac: use zeno's [http://www.zenoshrdlu.com/macboot/macboot.html MacBoot] automated tool (not compatible with Lion).
    * Linux: use the direct method (below) or use the method and files described [http://groups.google.com/group/ml-devel/browse_thread/thread/1161d4e6e93232de here] (use the second version).
    * Direct method for Linux, Mac, and Windows with [http://www.cygwin.com/ cygwin] or [http://www.chrysocome.net/dd dd]:
      * FAT12 / FAT16 (CF Card <= 4GB)
{{{
  dev=/dev/sdX1 # replace sdX1 with your CF device (first partition)
  echo EOS_DEVELOP | dd of="$dev" bs=1 seek=43 count=11
  echo BOOTDISK | dd of="$dev" bs=1 seek=64 count=8
}}}
      * FAT32
{{{
  dev=/dev/sdX1 # replace sdX1 with your CF device (first partition)
  echo EOS_DEVELOP | dd of="$dev" bs=1 seek=71 count=11
  echo BOOTDISK | dd of="$dev" bs=1 seek=92 count=8
}}}
      * exFAT
        This is not going to work directly, because the sector checksums needs to be calculated and written back after writing the strings. Use the above methods.
  #. Download the [http://code.google.com/p/400plus/downloads/list latest autoexec.bin], extract it, and copy to CF. 
  #. Put the languages.ini on the CF too, if you want support for additional languages.
  #. Insert the CF into camera... and you are done!

_If the blue LED of your camera briefly lights up when the camera is turned on, the hack has been successfully loaded._

== Updating 400plus ==

To update from a previous version of `400plus`, just overwrite the `autoexec.bin` and `languages.ini` files in all your cards.

== Removing 400plus ==

The first step of the installation procedure cannot be undone, and the camera will always try to execute `400plus` _if it is in the CF card_; thus, formating all your cards will remove `4000plus` for all practical purposes.

== What's next ==

Now you can read the [http://code.google.com/p/400plus/wiki/UserGuide User Guide].

= Sources =
  * [http://chdk.setepontos.com/index.php/topic,3290.msg38630.html#msg38630 raingrove]
  * [http://chdk.setepontos.com/index.php/topic,4214.msg39827.html#msg39827 whim's post]